"use strict";(self.webpackChunksonic_red_dragon_docs=self.webpackChunksonic_red_dragon_docs||[]).push([[711],{2087:(e,n,t)=>{t.d(n,{A:()=>a});const a={animationContainer:"animationContainer_qFbi",animationTitle:"animationTitle_Aunz",animationDescription:"animationDescription_Ov4W",animationError:"animationError_yvkm",votingPowerContainer:"votingPowerContainer_rVam",timelineLabels:"timelineLabels_ymyL",votingPowerTrack:"votingPowerTrack_ioTj","voting-power-bar":"voting-power-bar_YdRF",partnerBoostContainer:"partnerBoostContainer_Nbx6",partner:"partner_oQK4",partnerName:"partnerName_jHI0",boostTrack:"boostTrack_sueO","boost-fill":"boost-fill_csU7",percentage:"percentage_BL8G",totalAllocation:"totalAllocation_q9KR",totalLabel:"totalLabel_p4kt",totalBar:"totalBar_mqeA",pulse:"pulse_iDMA",calculationContainer:"calculationContainer_ZWH2",inputSide:"inputSide_qcOC",resultSide:"resultSide_AwPG",arrowRight:"arrowRight_wgI2",processingText:"processingText_xIPk","input-cube":"input-cube_V7bs","result-cube":"result-cube_ls1g","input-value":"input-value_hal2","result-value":"result-value_TNvy",crossChainContainer:"crossChainContainer_uGQt",chainBox:"chainBox_JwIk",chainLabel:"chainLabel_WrpK",nodeBox:"nodeBox_voFk",nodeLabel:"nodeLabel_yKzM",arrowSvg:"arrowSvg_BK05",mermaidContainer:"mermaidContainer_KO9S",mermaidTitle:"mermaidTitle_u_uO",mermaidCaption:"mermaidCaption_wbnp",feeSystemContainer:"feeSystemContainer__h_q",tokenSwapNode:"tokenSwapNode_lvrn",feePoolNode:"feePoolNode_iq4E",feeDistributionContainer:"feeDistributionContainer_Ql3t",feeDestinationsContainer:"feeDestinationsContainer_OiiH",feeDestinationNode:"feeDestinationNode_Q2q4","jackpot-node":"jackpot-node_U6t5","ve69lp-node":"ve69lp-node_mq1a","burn-node":"burn-node_Ktzb",percentTag:"percentTag_FQpB",mermaidError:"mermaidError_GTf9",mermaidLoading:"mermaidLoading_iCyq",animatedDiagramContainer:"animatedDiagramContainer__0gF",animatedContent:"animatedContent_QaIs",animatedNode:"animatedNode_MLYw",connectionSvg:"connectionSvg_kuFY",connectionLabel:"connectionLabel_BwvR",nodeContract:"nodeContract_mLML",nodeEvent:"nodeEvent_qLpj",nodeProcess:"nodeProcess_N9cH",nodeUser:"nodeUser_IMZv",flowChartContainer:"flowChartContainer_LoOU",flowChartStep:"flowChartStep_hHlJ",flowChartIcon:"flowChartIcon_d9lt",flowChartText:"flowChartText_Oh32",animationLoading:"animationLoading_vAVv",enhancedMermaidContainer:"enhancedMermaidContainer_IPf6",loadingIndicator:"loadingIndicator_dVEi",loadingPulse:"loadingPulse_FCIa",rendered:"rendered_Ku9G",fadeIn:"fadeIn_GJ3U",animatedCard:"animatedCard_m5VD",withHover:"withHover_QfE_",cardIcon:"cardIcon_BHXH",cardTitle:"cardTitle_Ppq0",cardContent:"cardContent_d8Ko","cardColor--primary":"cardColor--primary_gH3B","cardColor--success":"cardColor--success_DN36","cardColor--warning":"cardColor--warning_pEQU","cardColor--danger":"cardColor--danger_jZsL",standardMermaidContainer:"standardMermaidContainer_NOO0",mermaid:"mermaid_IJ4R",processed:"processed_VcJq",mermaidWrapper:"mermaidWrapper_XkJf",mermaidContent:"mermaidContent_UpoX"}},2407:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>x,contentTitle:()=>f,default:()=>v,frontMatter:()=>h,metadata:()=>a,toc:()=>b});const a=JSON.parse('{"id":"contracts/jackpot/animation-demo","title":"Animation Demo","description":"This page demonstrates how to combine Mermaid diagrams with anime.js animations for interactive documentation.","source":"@site/docs/contracts/jackpot/animation-demo.md","sourceDirName":"contracts/jackpot","slug":"/contracts/jackpot/animation-demo","permalink":"/contracts/jackpot/animation-demo","draft":false,"unlisted":false,"editUrl":"https://github.com/wenakita/sonicreddragon-docs/edit/main/docs/contracts/jackpot/animation-demo.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Animation Demo"}}');var i=t(4848),r=t(8453),o=t(6540),s=t(2776),l=t(2087),d=t(9136);function c(){const e=(0,o.useRef)(null),n=(0,o.useRef)(null),t=(0,d.A)();return(0,o.useEffect)((()=>{if(!t||!e.current)return;const a=setTimeout((()=>{n.current&&n.current.pause();const t=e.current.querySelectorAll(".trigger-node"),a=e.current.querySelectorAll(".trigger-connection"),i=e.current.querySelectorAll(".event-icon"),r=e.current.querySelectorAll(".token-icon");console.log("Found elements:",{nodes:t.length,connections:a.length,eventIcons:i.length,tokenIcons:r.length}),s.default.set(t,{opacity:0,translateY:20}),s.default.set(a,{opacity:0}),s.default.set(i,{opacity:0,scale:0}),s.default.set(r,{opacity:0,translateX:-20}),n.current=s.default.timeline({easing:"easeOutExpo",duration:800,autoplay:!0}),n.current.add({targets:t,opacity:1,translateY:0,delay:s.default.stagger(150),duration:1e3,easing:"easeOutElastic(1, .8)"}).add({targets:a,opacity:1,duration:600,easing:"easeInOutSine",delay:s.default.stagger(200)},"-=500").add({targets:".trigger-diagram-swap",boxShadow:["0 0 0 rgba(74, 128, 209, 0)","0 0 20px rgba(74, 128, 209, 0.8)","0 0 10px rgba(74, 128, 209, 0.3)"],backgroundColor:["rgba(74, 128, 209, 0.7)","rgba(74, 128, 209, 1)","rgba(74, 128, 209, 0.7)"],duration:1e3,easing:"easeOutCubic"},"-=200").add({targets:i,opacity:1,scale:[0,1.2,1],duration:800,easing:"easeOutElastic(1, .5)"},"-=500").add({targets:r,opacity:1,translateX:0,delay:s.default.stagger(300),duration:800,easing:"easeOutSine"},"-=400").add({targets:".trigger-diagram-jackpot",boxShadow:["0 0 0 rgba(56, 142, 60, 0)","0 0 20px rgba(56, 142, 60, 0.8)","0 0 10px rgba(56, 142, 60, 0.3)"],backgroundColor:["rgba(56, 142, 60, 0.7)","rgba(56, 142, 60, 1)","rgba(56, 142, 60, 0.7)"],duration:1e3,easing:"easeOutCubic"},"-=200").add({targets:".trigger-diagram-user-winner",backgroundColor:["rgba(123, 31, 162, 0.7)","rgba(123, 31, 162, 1)","rgba(123, 31, 162, 0.7)"],scale:[1,1.05,1],duration:1e3,easing:"easeInOutSine"}),(0,s.default)({targets:".token-flow",translateY:[0,-5,0],opacity:[.5,1,.5],loop:!0,direction:"alternate",easing:"easeInOutSine",duration:2e3,delay:s.default.stagger(300)});const o=e.current.querySelector(".replay-button");o&&o.addEventListener("click",(()=>{n.current.restart()}))}),500);return()=>{clearTimeout(a),n.current&&n.current.pause()}}),[t]),(0,i.jsxs)("div",{ref:e,className:l.A.animationContainer,children:[(0,i.jsx)("h3",{className:l.A.animationTitle,children:"Interactive Swap-Based Trigger Flow"}),(0,i.jsx)("p",{className:l.A.animationDescription,children:"Visualizing how the OmniDragon swap-based trigger system processes transactions and determines lottery entries."}),(0,i.jsxs)("div",{className:"trigger-flow-diagram",style:{position:"relative",height:"400px",margin:"0 auto",maxWidth:"800px"},children:[(0,i.jsx)("div",{id:"user-node",className:`trigger-node ${l.A.animatedNode} ${l.A.nodeUser}`,style:{position:"absolute",top:"10px",left:"20px"},children:"User"}),(0,i.jsx)("div",{id:"token-node",className:`trigger-node ${l.A.animatedNode} ${l.A.nodeContract}`,style:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)"},children:"OmniDragon Token"}),(0,i.jsxs)("div",{id:"oracle-node",className:`trigger-node trigger-diagram-swap ${l.A.animatedNode} ${l.A.nodeEvent}`,style:{position:"absolute",top:"120px",left:"50%",transform:"translateX(-50%)"},children:["Swap Trigger Oracle",(0,i.jsx)("div",{className:"event-icon",style:{position:"absolute",top:"-10px",right:"-10px",background:"#ff9800",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold"},children:"!"})]}),(0,i.jsx)("div",{id:"price-node",className:`trigger-node ${l.A.animatedNode} ${l.A.nodeContract}`,style:{position:"absolute",top:"120px",right:"20px"},children:"Price Oracles"}),(0,i.jsx)("div",{id:"jackpot-node",className:`trigger-node trigger-diagram-jackpot ${l.A.animatedNode} ${l.A.nodeProcess}`,style:{position:"absolute",top:"230px",left:"50%",transform:"translateX(-50%)"},children:"Jackpot System"}),(0,i.jsx)("div",{id:"winner-node",className:`trigger-node trigger-diagram-user-winner ${l.A.animatedNode} ${l.A.nodeUser}`,style:{position:"absolute",top:"330px",left:"50%",transform:"translateX(-50%)"},children:"Winner Selection"}),(0,i.jsxs)("svg",{className:"trigger-connections",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1},children:[(0,i.jsx)("path",{d:"M90,40 C120,40 160,40 230,40",className:"trigger-connection",stroke:"var(--ifm-color-emphasis-500)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),(0,i.jsx)("path",{d:"M275,70 C275,80 275,90 275,110",className:"trigger-connection",stroke:"var(--ifm-color-emphasis-500)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),(0,i.jsx)("path",{d:"M335,140 C360,140 380,140 410,140",className:"trigger-connection",stroke:"var(--ifm-color-emphasis-500)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),(0,i.jsx)("path",{d:"M275,180 C275,190 275,200 275,220",className:"trigger-connection",stroke:"var(--ifm-color-emphasis-500)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),(0,i.jsx)("path",{d:"M275,290 C275,300 275,310 275,320",className:"trigger-connection",stroke:"var(--ifm-color-emphasis-500)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),(0,i.jsx)("defs",{children:(0,i.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,i.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"var(--ifm-color-emphasis-500)"})})})]}),(0,i.jsx)("div",{className:"token-icon token-flow",style:{position:"absolute",top:"60px",left:"170px",width:"20px",height:"20px",borderRadius:"50%",background:"var(--ifm-color-primary)",zIndex:5}}),(0,i.jsx)("div",{className:"token-icon token-flow",style:{position:"absolute",top:"170px",left:"250px",width:"20px",height:"20px",borderRadius:"50%",background:"var(--ifm-color-primary)",zIndex:5}}),(0,i.jsx)("div",{className:"token-icon token-flow",style:{position:"absolute",top:"280px",left:"290px",width:"20px",height:"20px",borderRadius:"50%",background:"var(--ifm-color-primary)",zIndex:5}})]}),(0,i.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:(0,i.jsx)("button",{className:`replay-button ${l.A.animatedNode}`,style:{display:"inline-block",cursor:"pointer",border:"none",background:"var(--ifm-color-primary)",color:"white",padding:"8px 16px"},children:"Replay Animation"})})]})}function m({title:e,description:n,className:t,children:a}){const r=(0,o.useRef)(null),c=(0,o.useRef)(null),m=(0,d.A)(),[p,u]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if(!m||!r.current)return;const e=setTimeout((()=>{const e=r.current.querySelectorAll(".animated-element");console.log("Found animated elements:",e.length),c.current&&c.current.pause(),c.current=s.default.timeline({easing:"easeOutElastic(1, .8)",duration:800,loop:!1,complete:()=>{u(!0),(0,s.default)({targets:r.current.querySelectorAll(".pulse-element"),scale:[1,1.05,1],opacity:[1,.8,1],duration:2e3,loop:!0,direction:"alternate",easing:"easeInOutSine",delay:s.default.stagger(100)})}}),c.current.add({targets:e,translateY:[20,0],opacity:[0,1],delay:s.default.stagger(150)}).add({targets:r.current.querySelectorAll(".connection-line"),strokeDashoffset:[s.default.setDashoffset,0],easing:"easeInOutSine",duration:700,delay:function(e,n){return 250*n}},"-=400").add({targets:r.current.querySelectorAll(".highlight-element"),backgroundColor:["rgba(74, 128, 209, 0.2)","rgba(74, 128, 209, 0.6)"],boxShadow:["0 0 0 rgba(74, 128, 209, 0)","0 0 10px rgba(74, 128, 209, 0.5)"],easing:"easeOutExpo",duration:600},"-=300"),c.current.play()}),500);return()=>{clearTimeout(e),c.current&&c.current.pause()}}),[m]),(0,i.jsxs)("div",{ref:r,className:`${l.A.animatedDiagramContainer||""} ${t||""}`,children:[e&&(0,i.jsx)("h3",{className:l.A.animationTitle||"",children:e}),n&&(0,i.jsx)("p",{className:l.A.animationDescription||"",children:n}),(0,i.jsx)("div",{className:l.A.animatedContent||"",children:a}),!p&&m&&(0,i.jsx)("div",{className:l.A.animationLoading,children:"Initializing animation..."})]})}function p({label:e,className:n,highlight:t,pulse:a,id:r}){const o=[l.A.animatedNode||"","animated-element",n||"",t?"highlight-element":"",a?"pulse-element":""].filter(Boolean).join(" ");return(0,i.jsx)("div",{className:o,id:r||void 0,children:e})}var u=t(1425);function g(){const e=(0,o.useRef)(null),n=(0,d.A)();return(0,o.useEffect)((()=>{if(!n||!e.current)return;const t=(0,u.FE)()({targets:".anime-test-box",translateX:250,rotate:"1turn",backgroundColor:"#FFC107",duration:2e3,loop:!0,direction:"alternate",easing:"easeInOutQuad",autoplay:!0});return()=>{t&&t.pause()}}),[n]),(0,i.jsxs)("div",{ref:e,className:l.A.animationContainer,children:[(0,i.jsx)("h3",{className:l.A.animationTitle,children:"Anime.js Test"}),(0,i.jsx)("p",{className:l.A.animationDescription,children:"This is a simple test to verify that anime.js is working correctly."}),(0,i.jsx)("div",{style:{padding:"50px",display:"flex",justifyContent:"center"},children:(0,i.jsx)("div",{className:"anime-test-box",style:{width:"100px",height:"100px",background:"#3F51B5",borderRadius:"8px"}})}),(0,i.jsx)("p",{style:{marginTop:"30px",textAlign:"center",fontSize:"14px",color:"var(--ifm-color-emphasis-600)"},children:"You should see a blue square animating. If not, there's an issue with anime.js."})]})}const h={sidebar_position:5,title:"Animation Demo"},f="Animated Diagrams with Anime.js",x={},b=[{value:"Basic Anime.js Test",id:"basic-animejs-test",level:2},{value:"Interactive Trigger System Visualization",id:"interactive-trigger-system-visualization",level:2},{value:"Mermaid Diagrams",id:"mermaid-diagrams",level:2},{value:"Interactive Components with Anime.js",id:"interactive-components-with-animejs",level:2},{value:"Combining Static and Animated Content",id:"combining-static-and-animated-content",level:2},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"Browser Support",id:"browser-support",level:2},{value:"Troubleshooting Animation Issues",id:"troubleshooting-animation-issues",level:2}];function j(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"animated-diagrams-with-animejs",children:"Animated Diagrams with Anime.js"})}),"\n",(0,i.jsx)(n.p,{children:"This page demonstrates how to combine Mermaid diagrams with anime.js animations for interactive documentation."}),"\n",(0,i.jsx)(n.h2,{id:"basic-animejs-test",children:"Basic Anime.js Test"}),"\n",(0,i.jsx)(n.p,{children:"First, let's verify that anime.js is working correctly:"}),"\n",(0,i.jsx)(g,{}),"\n",(0,i.jsx)(n.h2,{id:"interactive-trigger-system-visualization",children:"Interactive Trigger System Visualization"}),"\n",(0,i.jsx)(n.p,{children:"The animation below shows the OmniDragon swap-based trigger system in action:"}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(n.h2,{id:"mermaid-diagrams",children:"Mermaid Diagrams"}),"\n",(0,i.jsx)(n.p,{children:"Mermaid diagrams provide clear, static representations of your system architecture:"}),"\n",(0,i.jsx)(n.mermaid,{value:'flowchart TB\n    %% Define main components of the trigger system\n    subgraph TriggerCore ["Trigger Contract"]\n        direction TB\n        INTERFACE["IOmniDragonSwapTriggerOracle"]:::interface\n        SWAP_ORACLE["OmniDragonSwapTriggerOracle"]:::impl\n    end\n    \n    subgraph OracleSources ["Price Oracles"]\n        CHAINLINK["Chainlink Feed"]:::oracle\n        API3["API3 Feed"]:::oracle\n        BAND["Band Protocol"]:::oracle\n    end\n    \n    %% Connect the systems\n    OracleSources --\x3e|"Price Data"| SWAP_ORACLE\n    INTERFACE --\x3e|"Implemented by"| SWAP_ORACLE\n    \n    %% Apply styling\n    classDef interface fill:#e3f2fd,stroke:#1e88e5,color:#0d47a1\n    classDef impl fill:#e8f5e9,stroke:#43a047,color:#1b5e20\n    classDef oracle fill:#f3e5f5,stroke:#8e24aa,color:#4a148c'}),"\n",(0,i.jsx)(n.h2,{id:"interactive-components-with-animejs",children:"Interactive Components with Anime.js"}),"\n",(0,i.jsx)(n.p,{children:"Anime.js allows for custom interactive components that help explain complex processes:"}),"\n",(0,i.jsx)(m,{title:"Probability Calculation Flow",description:"How swap amounts affect lottery winning probability",children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",gap:"20px",padding:"20px"},children:[(0,i.jsx)(p,{label:"Swap Amount",highlight:!0,id:"swap-amount"}),(0,i.jsx)(p,{label:"Base Probability",id:"base-prob"}),(0,i.jsx)(p,{label:"Market Conditions",pulse:!0,id:"market"}),(0,i.jsx)(p,{label:"Final Probability",highlight:!0,id:"final-prob"})]})}),"\n",(0,i.jsx)(n.h2,{id:"combining-static-and-animated-content",children:"Combining Static and Animated Content"}),"\n",(0,i.jsx)(n.p,{children:"Using both Mermaid for architecture diagrams and anime.js for interactive elements gives you the best of both worlds:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Mermaid diagrams"})," provide clear, static representations that are easy to maintain"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Anime.js animations"})," add interactivity and help illustrate complex processes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Combined approach"})," creates more engaging documentation"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,i.jsx)(n.p,{children:"Both the Mermaid diagrams and anime.js animations are implemented as React components in your Docusaurus site:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// Import components\nimport EnhancedMermaid from '@site/src/components/EnhancedMermaid';\nimport AnimatedDiagram from '@site/src/components/AnimatedDiagram';\nimport anime from 'animejs/lib/anime.es.js';\n\n// Use in your MDX documentation\n<EnhancedMermaid \n  chart={`flowchart TB\n    A --\x3e B\n    B --\x3e C`} \n  title=\"Simple Flowchart\" \n/>\n\n<AnimatedDiagram title=\"Interactive Animation\">\n  {/* Your interactive content */}\n</AnimatedDiagram>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"browser-support",children:"Browser Support"}),"\n",(0,i.jsx)(n.p,{children:"The anime.js animations are only rendered in the browser and have fallbacks for non-browser environments. Mermaid diagrams are pre-rendered during build time for static sites and enhanced with interactivity when JavaScript is available."}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-animation-issues",children:"Troubleshooting Animation Issues"}),"\n",(0,i.jsx)(n.p,{children:"If animations aren't displaying:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure the anime.js library is imported correctly"}),"\n",(0,i.jsx)(n.li,{children:"Check console for any JavaScript errors"}),"\n",(0,i.jsx)(n.li,{children:"Verify that DOM elements with the correct classes exist"}),"\n",(0,i.jsxs)(n.li,{children:["Try using a simple test animation like ",(0,i.jsx)(n.code,{children:"AnimeTester"})," to verify configuration"]}),"\n"]})]})}function v(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var a=t(6540);const i={},r=a.createContext(i);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);