"use strict";(self.webpackChunksonic_red_dragon_docs=self.webpackChunksonic_red_dragon_docs||[]).push([[2122],{731:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"smart-contracts/token","title":"Sonic Red Dragon Token","description":"This document provides technical details about the Sonic Red Dragon token contract implementation.","source":"@site/docs/smart-contracts/token.md","sourceDirName":"smart-contracts","slug":"/smart-contracts/token","permalink":"/smart-contracts/token","draft":false,"unlisted":false,"editUrl":"https://github.com/wenakita/sonicreddragon-docs/edit/main/docs/smart-contracts/token.md","tags":[],"version":"current","frontMatter":{}}');var r=s(4848),t=s(8453);const a={},o="Sonic Red Dragon Token",d={},l=[{value:"Contract Overview",id:"contract-overview",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Contract Interfaces",id:"contract-interfaces",level:2},{value:"ILayerZeroV2",id:"ilayerzerov2",level:3},{value:"ISonicRedDragon",id:"isonicreddragon",level:3},{value:"Constructor Parameters",id:"constructor-parameters",level:2},{value:"Main Functions",id:"main-functions",level:2},{value:"Transfer Functions",id:"transfer-functions",level:3},{value:"Cross-Chain Functions",id:"cross-chain-functions",level:3},{value:"Randomness Functions",id:"randomness-functions",level:3},{value:"Security Functions",id:"security-functions",level:3},{value:"Events",id:"events",level:2},{value:"Cross-Chain Implementation",id:"cross-chain-implementation",level:2},{value:"Randomness Implementation",id:"randomness-implementation",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Contract Verification",id:"contract-verification",level:2},{value:"Development",id:"development",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"sonic-red-dragon-token",children:"Sonic Red Dragon Token"})}),"\n",(0,r.jsx)(e.p,{children:"This document provides technical details about the Sonic Red Dragon token contract implementation."}),"\n",(0,r.jsx)(e.h2,{id:"contract-overview",children:"Contract Overview"}),"\n",(0,r.jsx)(e.p,{children:"The Sonic Red Dragon token is a cross-chain ERC-20 compatible token built on LayerZero V2 with dRAND integration for verifiable randomness and enhanced security features."}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Contract Address (Ethereum)"}),": Coming Soon"]}),"\n",(0,r.jsx)(e.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Standard ERC-20 functionality"}),"\n",(0,r.jsx)(e.li,{children:"LayerZero V2 cross-chain compatibility"}),"\n",(0,r.jsx)(e.li,{children:"dRAND network integration"}),"\n",(0,r.jsx)(e.li,{children:"Advanced security features"}),"\n",(0,r.jsx)(e.li,{children:"Role-based access control"}),"\n",(0,r.jsx)(e.li,{children:"Cross-chain supply management"}),"\n",(0,r.jsx)(e.li,{children:"Emergency controls"}),"\n",(0,r.jsx)(e.li,{children:"Rate limiting"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"contract-interfaces",children:"Contract Interfaces"}),"\n",(0,r.jsx)(e.h3,{id:"ilayerzerov2",children:"ILayerZeroV2"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"interface ILayerZeroV2 {\n    function send(\n        uint16 _dstChainId,\n        bytes calldata _destination,\n        bytes calldata _payload,\n        address payable _refundAddress,\n        address _zroPaymentAddress,\n        bytes calldata _adapterParams\n    ) external payable;\n\n    function estimateFee(\n        uint16 _dstChainId,\n        bytes calldata _destination,\n        bytes calldata _payload,\n        bool _useZro,\n        bytes calldata _adapterParams\n    ) external view returns (uint256 nativeFee, uint256 zroFee);\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"isonicreddragon",children:"ISonicRedDragon"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"interface ISonicRedDragon is IERC20 {\n    function bridgeTokens(\n        uint16 _dstChainId,\n        bytes calldata _destination,\n        uint256 _amount,\n        bytes calldata _payload\n    ) external payable;\n\n    function requestRandomness() external returns (uint256);\n    function verifyRandomness(uint256 _round, bytes calldata _proof) external view returns (bool);\n    function pause() external;\n    function unpause() external;\n    function isPaused() external view returns (bool);\n    function maxSupply() external view returns (uint256);\n    function hasRole(bytes32 role, address account) external view returns (bool);\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"constructor-parameters",children:"Constructor Parameters"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"constructor(\n    string memory _name,\n    string memory _symbol,\n    uint8 _decimals,\n    uint256 _maxSupply,\n    address _lzEndpoint,\n    address _drandEndpoint\n)\n"})}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Parameter"}),(0,r.jsx)(e.th,{children:"Type"}),(0,r.jsx)(e.th,{children:"Description"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"_name"}),(0,r.jsx)(e.td,{children:"string"}),(0,r.jsx)(e.td,{children:'Token name ("Sonic Red Dragon")'})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"_symbol"}),(0,r.jsx)(e.td,{children:"string"}),(0,r.jsx)(e.td,{children:'Token symbol ("SRD")'})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"_decimals"}),(0,r.jsx)(e.td,{children:"uint8"}),(0,r.jsx)(e.td,{children:"Decimal places (18)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"_maxSupply"}),(0,r.jsx)(e.td,{children:"uint256"}),(0,r.jsx)(e.td,{children:"Maximum token supply"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"_lzEndpoint"}),(0,r.jsx)(e.td,{children:"address"}),(0,r.jsx)(e.td,{children:"LayerZero V2 endpoint"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"_drandEndpoint"}),(0,r.jsx)(e.td,{children:"address"}),(0,r.jsx)(e.td,{children:"dRAND network endpoint"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"main-functions",children:"Main Functions"}),"\n",(0,r.jsx)(e.h3,{id:"transfer-functions",children:"Transfer Functions"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"function transfer(address to, uint256 amount) public override returns (bool)\nfunction transferFrom(address from, address to, uint256 amount) public override returns (bool)\n"})}),"\n",(0,r.jsx)(e.p,{children:"Both functions include security checks and rate limiting."}),"\n",(0,r.jsx)(e.h3,{id:"cross-chain-functions",children:"Cross-Chain Functions"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"function bridgeTokens(\n    uint16 _dstChainId,\n    bytes calldata _destination,\n    uint256 _amount,\n    bytes calldata _payload\n) external payable\n"})}),"\n",(0,r.jsx)(e.p,{children:"Handles cross-chain token transfers through LayerZero V2."}),"\n",(0,r.jsx)(e.h3,{id:"randomness-functions",children:"Randomness Functions"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"function requestRandomness() external returns (uint256)\nfunction verifyRandomness(uint256 _round, bytes calldata _proof) external view returns (bool)\nfunction fulfillRandomness(uint256 _requestId, uint256 _randomness) external\n"})}),"\n",(0,r.jsx)(e.p,{children:"Manages dRAND integration for verifiable randomness."}),"\n",(0,r.jsx)(e.h3,{id:"security-functions",children:"Security Functions"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"function pause() external onlyRole(PAUSER_ROLE)\nfunction unpause() external onlyRole(PAUSER_ROLE)\nfunction grantRole(bytes32 role, address account) external onlyRole(DEFAULT_ADMIN_ROLE)\nfunction revokeRole(bytes32 role, address account) external onlyRole(DEFAULT_ADMIN_ROLE)\n"})}),"\n",(0,r.jsx)(e.h2,{id:"events",children:"Events"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"event TokensBridged(uint16 indexed dstChainId, bytes indexed destination, uint256 amount);\nevent RandomnessRequested(uint256 indexed requestId, address indexed requester);\nevent RandomnessFulfilled(uint256 indexed requestId, uint256 randomness);\nevent RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);\nevent RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);\nevent MaxSupplyUpdated(uint256 newMaxSupply);\n"})}),"\n",(0,r.jsx)(e.h2,{id:"cross-chain-implementation",children:"Cross-Chain Implementation"}),"\n",(0,r.jsx)(e.p,{children:"The Sonic Red Dragon token implements LayerZero V2 for cross-chain functionality:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"contract SonicRedDragon is ERC20, AccessControl, Pausable {\n    // Contract implementation\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"This enables:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Secure cross-chain token transfers"}),"\n",(0,r.jsx)(e.li,{children:"Global supply management"}),"\n",(0,r.jsx)(e.li,{children:"Consistent token properties across chains"}),"\n",(0,r.jsx)(e.li,{children:"Gas-optimized cross-chain messages"}),"\n",(0,r.jsx)(e.li,{children:"Enhanced security features"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"randomness-implementation",children:"Randomness Implementation"}),"\n",(0,r.jsx)(e.p,{children:"The contract integrates with dRAND for verifiable randomness:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"contract SonicRedDragonRandomness {\n    // Randomness implementation\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Features:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Verifiable randomness through dRAND beacon"}),"\n",(0,r.jsx)(e.li,{children:"Cross-chain randomness consistency"}),"\n",(0,r.jsx)(e.li,{children:"Fallback mechanisms"}),"\n",(0,r.jsx)(e.li,{children:"Rate limiting for randomness requests"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(e.p,{children:"The contract implements multiple security layers:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Role-Based Access Control"}),": Granular permissions for different functions"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Pausable Transfers"}),": Emergency pause functionality"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Rate Limiting"}),": Prevents abuse of cross-chain and randomness functions"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Supply Enforcement"}),": Strict maximum supply management"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Input Validation"}),": Comprehensive validation for all functions"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Cross-Chain Security"}),": Message verification and validation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Randomness Security"}),": Verification of dRAND proofs"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"contract-verification",children:"Contract Verification"}),"\n",(0,r.jsx)(e.p,{children:"The contract source code will be verified on all deployed chain explorers:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Ethereum Explorer (Coming Soon)"}),"\n",(0,r.jsx)(e.li,{children:"Arbitrum Explorer (Coming Soon)"}),"\n",(0,r.jsx)(e.li,{children:"Optimism Explorer (Coming Soon)"}),"\n",(0,r.jsx)(e.li,{children:"Base Explorer (Coming Soon)"}),"\n",(0,r.jsx)(e.li,{children:"Polygon Explorer (Coming Soon)"}),"\n",(0,r.jsx)(e.li,{children:"Avalanche Explorer (Coming Soon)"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"development",children:"Development"}),"\n",(0,r.jsx)(e.p,{children:"For developers looking to interact with the contract:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Install dependencies:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"npm install @sonicreddragon/contracts\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Import the contract:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:'import "@sonicreddragon/contracts/SonicRedDragon.sol";\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Example usage:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:"// Cross-chain transfer\nawait token.bridgeTokens(\n    dstChainId,\n    destination,\n    amount,\n    payload\n);\n\n// Request randomness\nconst requestId = await token.requestRandomness();\n"})}),"\n"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function a(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);